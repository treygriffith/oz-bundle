(function(){function require(name){var module=require.modules[name];if(!module)throw new Error('failed to require "'+name+'"');if(!("exports"in module)&&typeof module.definition==="function"){module.client=module.component=true;module.definition.call(this,module.exports={},module);delete module.definition}return module.exports}require.modules={};require.register=function(name,definition){require.modules[name]={definition:definition}};require.define=function(name,exports){require.modules[name]={exports:exports}};require.register("component~type@1.0.0",function(exports,module){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(val===null)return"null";if(val===undefined)return"undefined";if(val&&val.nodeType===1)return"element";if(val===Object(val))return"object";return typeof val}});require.register("component~props@1.1.2",function(exports,module){var globals=/\b(this|Array|Date|Object|Math|JSON)\b/g;module.exports=function(str,fn){var p=unique(props(str));if(fn&&"string"==typeof fn)fn=prefixed(fn);if(fn)return map(str,p,fn);return p};function props(str){return str.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(globals,"").match(/[$a-zA-Z_]\w*/g)||[]}function map(str,props,fn){var re=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return str.replace(re,function(_){if("("==_[_.length-1])return fn(_);if(!~props.indexOf(_))return _;return fn(_)})}function unique(arr){var ret=[];for(var i=0;i<arr.length;i++){if(~ret.indexOf(arr[i]))continue;ret.push(arr[i])}return ret}function prefixed(str){return function(_){return str+_}}});require.register("component~to-function@2.0.0",function(exports,module){var expr=require("component~props@1.1.2");module.exports=toFunction;function toFunction(obj){switch({}.toString.call(obj)){case"[object Object]":return objectToFunction(obj);case"[object Function]":return obj;case"[object String]":return stringToFunction(obj);case"[object RegExp]":return regexpToFunction(obj);default:return defaultToFunction(obj)}}function defaultToFunction(val){return function(obj){return val===obj}}function regexpToFunction(re){return function(obj){return re.test(obj)}}function stringToFunction(str){if(/^ *\W+/.test(str))return new Function("_","return _ "+str);return new Function("_","return "+get(str))}function objectToFunction(obj){var match={};for(var key in obj){match[key]=typeof obj[key]==="string"?defaultToFunction(obj[key]):toFunction(obj[key])}return function(val){if(typeof val!=="object")return false;for(var key in match){if(!(key in val))return false;if(!match[key](val[key]))return false}return true}}function get(str){var props=expr(str);if(!props.length)return"_."+str;var val;for(var i=0,prop;prop=props[i];i++){val="_."+prop;val="('function' == typeof "+val+" ? "+val+"() : "+val+")";str=str.replace(new RegExp(prop,"g"),val)}return str}});require.register("component~each@0.2.3",function(exports,module){var type=require("component~type@1.0.0");var toFunction=require("component~to-function@2.0.0");var has=Object.prototype.hasOwnProperty;module.exports=function(obj,fn,ctx){fn=toFunction(fn);ctx=ctx||this;switch(type(obj)){case"array":return array(obj,fn,ctx);case"object":if("number"==typeof obj.length)return array(obj,fn,ctx);return object(obj,fn,ctx);case"string":return string(obj,fn,ctx)}};function string(obj,fn,ctx){for(var i=0;i<obj.length;++i){fn.call(ctx,obj.charAt(i),i)}}function object(obj,fn,ctx){for(var key in obj){if(has.call(obj,key)){fn.call(ctx,key,obj[key])}}}function array(obj,fn,ctx){for(var i=0;i<obj.length;++i){fn.call(ctx,obj[i],i)}}});require.register("ianstormtaylor~to-no-case@0.1.0",function(exports,module){module.exports=toNoCase;var hasSpace=/\s/;var hasCamel=/[a-z][A-Z]/;var hasSeparator=/[\W_]/;function toNoCase(string){if(hasSpace.test(string))return string.toLowerCase();if(hasSeparator.test(string))string=unseparate(string);if(hasCamel.test(string))string=uncamelize(string);return string.toLowerCase()}var separatorSplitter=/[\W_]+(.|$)/g;function unseparate(string){return string.replace(separatorSplitter,function(m,next){return next?" "+next:""})}var camelSplitter=/(.)([A-Z]+)/g;function uncamelize(string){return string.replace(camelSplitter,function(m,previous,uppers){return previous+" "+uppers.toLowerCase().split("").join(" ")})}});require.register("ianstormtaylor~to-space-case@0.1.2",function(exports,module){var clean=require("ianstormtaylor~to-no-case@0.1.0");module.exports=toSpaceCase;function toSpaceCase(string){return clean(string).replace(/[\W_]+(.|$)/g,function(matches,match){return match?" "+match:""})}});require.register("ianstormtaylor~to-camel-case@0.2.1",function(exports,module){var toSpace=require("ianstormtaylor~to-space-case@0.1.2");module.exports=toCamelCase;function toCamelCase(string){return toSpace(string).replace(/\s(\w)/g,function(matches,letter){return letter.toUpperCase()})}});require.register("component~within-document@0.0.1",function(exports,module){module.exports=function(el){var node=el;while(node=node.parentNode){if(node==document)return true}return false}});require.register("visionmedia~debug@0.8.1",function(exports,module){module.exports=debug;function debug(name){if(!debug.enabled(name))return function(){};return function(fmt){fmt=coerce(fmt);var curr=new Date;var ms=curr-(debug[name]||curr);debug[name]=curr;fmt=name+" "+fmt+" +"+debug.humanize(ms);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}debug.names=[];debug.skips=[];debug.enable=function(name){try{localStorage.debug=name}catch(e){}var split=(name||"").split(/[\s,]+/),len=split.length;for(var i=0;i<len;i++){name=split[i].replace("*",".*?");if(name[0]==="-"){debug.skips.push(new RegExp("^"+name.substr(1)+"$"))}else{debug.names.push(new RegExp("^"+name+"$"))}}};debug.disable=function(){debug.enable("")};debug.humanize=function(ms){var sec=1e3,min=60*1e3,hour=60*min;if(ms>=hour)return(ms/hour).toFixed(1)+"h";if(ms>=min)return(ms/min).toFixed(1)+"m";if(ms>=sec)return(ms/sec|0)+"s";return ms+"ms"};debug.enabled=function(name){for(var i=0,len=debug.skips.length;i<len;i++){if(debug.skips[i].test(name)){return false}}for(var i=0,len=debug.names.length;i<len;i++){if(debug.names[i].test(name)){return true}}return false};function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}try{if(window.localStorage)debug.enable(localStorage.debug)}catch(e){}});require.register("treygriffith~css@0.0.6",function(exports,module){var debug=require("visionmedia~debug@0.8.1")("css");var set=require("treygriffith~css@0.0.6/lib/style.js");var get=require("treygriffith~css@0.0.6/lib/css.js");module.exports=css;function css(el,prop,val){if(!el)return;if(undefined!==val){var obj={};obj[prop]=val;debug("setting styles %j",obj);return setStyles(el,obj)}if("object"==typeof prop){debug("setting styles %j",prop);return setStyles(el,prop)}debug("getting %s",prop);return get(el,prop)}function setStyles(el,props){for(var prop in props){set(el,prop,props[prop])}return el}});require.register("treygriffith~css@0.0.6/lib/css.js",function(exports,module){var debug=require("visionmedia~debug@0.8.1")("css:css");var camelcase=require("ianstormtaylor~to-camel-case@0.2.1");var computed=require("treygriffith~css@0.0.6/lib/computed.js");var property=require("treygriffith~css@0.0.6/lib/prop.js");module.exports=css;var cssNormalTransform={letterSpacing:0,fontWeight:400};function css(el,prop,extra,styles){var hooks=require("treygriffith~css@0.0.6/lib/hooks.js");var orig=camelcase(prop);var style=el.style;var val;prop=property(prop,style);var hook=hooks[prop]||hooks[orig];if(hook&&hook.get){debug("get hook provided. use that");val=hook.get(el,true,extra)}if(undefined==val){debug("fetch the computed value of %s",prop);val=computed(el,prop)}if("normal"==val&&cssNormalTransform[prop]){val=cssNormalTransform[prop];debug("normal => %s",val)}if(""==extra||extra){debug("converting value: %s into a number",val);var num=parseFloat(val);return true===extra||isNumeric(num)?num||0:val}return val}function isNumeric(obj){return!isNan(parseFloat(obj))&&isFinite(obj)}});require.register("treygriffith~css@0.0.6/lib/prop.js",function(exports,module){var debug=require("visionmedia~debug@0.8.1")("css:prop");var camelcase=require("ianstormtaylor~to-camel-case@0.2.1");var vendor=require("treygriffith~css@0.0.6/lib/vendor.js");module.exports=prop;var cssProps={"float":"cssFloat"in document.documentElement.style?"cssFloat":"styleFloat"};function prop(prop,style){prop=cssProps[prop]||(cssProps[prop]=vendor(prop,style));debug("transform property: %s => %s",prop,style);return prop}});require.register("treygriffith~css@0.0.6/lib/swap.js",function(exports,module){module.exports=swap;function swap(el,options,fn,args){for(var key in options){old[key]=el.style[key];el.style[key]=options[key]}ret=fn.apply(el,args||[]);for(key in options){el.style[key]=old[key]}return ret}});require.register("treygriffith~css@0.0.6/lib/style.js",function(exports,module){var debug=require("visionmedia~debug@0.8.1")("css:style");var camelcase=require("ianstormtaylor~to-camel-case@0.2.1");var support=require("treygriffith~css@0.0.6/lib/support.js");var property=require("treygriffith~css@0.0.6/lib/prop.js");var hooks=require("treygriffith~css@0.0.6/lib/hooks.js");module.exports=style;var cssNumber={columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true};function style(el,prop,val,extra){if(!el||el.nodeType===3||el.nodeType===8||!el.style)return;var orig=camelcase(prop);var style=el.style;var type=typeof val;if(!val&&val!=="")return;prop=property(prop,style);var hook=hooks[prop]||hooks[orig];if("number"==type&&!cssNumber[orig]){debug('adding "px" to end of number');val+="px"}if(!support.clearCloneStyle&&""===val&&0===prop.indexOf("background")){debug('set property (%s) value to "inherit"',prop);style[prop]="inherit"}if(!hook||!hook.set||undefined!==(val=hook.set(el,val,extra))){debug("set hook defined. setting property (%s) to %s",prop,val);style[prop]="";style[prop]=val}}});require.register("treygriffith~css@0.0.6/lib/hooks.js",function(exports,module){var each=require("component~each@0.2.3");var css=require("treygriffith~css@0.0.6/lib/css.js");var cssShow={position:"absolute",visibility:"hidden",display:"block"};var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var rnumsplit=new RegExp("^("+pnum+")(.*)$","i");var rdisplayswap=/^(none|table(?!-c[ea]).+)/;var styles=require("treygriffith~css@0.0.6/lib/styles.js");var support=require("treygriffith~css@0.0.6/lib/support.js");var swap=require("treygriffith~css@0.0.6/lib/swap.js");var computed=require("treygriffith~css@0.0.6/lib/computed.js");var cssExpand=["Top","Right","Bottom","Left"];each(["width","height"],function(name){exports[name]={};exports[name].get=function(el,compute,extra){if(!compute)return;return 0==el.offsetWidth&&rdisplayswap.test(css(el,"display"))?swap(el,cssShow,function(){return getWidthOrHeight(el,name,extra)}):getWidthOrHeight(el,name,extra)};exports[name].set=function(el,val,extra){var styles=extra&&styles(el);return setPositiveNumber(el,val,extra?augmentWidthOrHeight(el,name,extra,"border-box"==css(el,"boxSizing",false,styles),styles):0)}});exports.opacity={};exports.opacity.get=function(el,compute){if(!compute)return;var ret=computed(el,"opacity");return""==ret?"1":ret};function setPositiveNumber(el,val,subtract){var matches=rnumsplit.exec(val);return matches?Math.max(0,matches[1])+(matches[2]||"px"):val}function getWidthOrHeight(el,prop,extra){var valueIsBorderBox=true;var val=prop==="width"?el.offsetWidth:el.offsetHeight;var styles=computed(el);var isBorderBox=support.boxSizing&&css(el,"boxSizing")==="border-box";if(val<=0||val==null){val=computed(el,prop,styles);if(val<0||val==null){val=el.style[prop]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===el.style[prop]);val=parseFloat(val)||0}extra=extra||(isBorderBox?"border":"content");val+=augmentWidthOrHeight(el,prop,extra,valueIsBorderBox,styles);return val+"px"}function augmentWidthOrHeight(el,prop,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:"width"==prop?1:0;var val=0;for(;i<4;i+=2){if(extra==="margin"){val+=css(el,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=css(el,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=css(el,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=css(el,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=css(el,"border"+cssExpand[i]+"Width",true,styles)}}}return val}});require.register("treygriffith~css@0.0.6/lib/styles.js",function(exports,module){module.exports=styles;function styles(el){if(window.getComputedStyle){return el.ownerDocument.defaultView.getComputedStyle(el,null)}else{return el.currentStyle}}});require.register("treygriffith~css@0.0.6/lib/vendor.js",function(exports,module){var prefixes=["Webkit","O","Moz","ms"];module.exports=vendor;function vendor(prop,style){if(style[prop])return prop;var capName=prop[0].toUpperCase()+prop.slice(1);var original=prop;var i=prefixes.length;while(i--){prop=prefixes[i]+capName;if(prop in style)return prop}return original}});require.register("treygriffith~css@0.0.6/lib/support.js",function(exports,module){var reliableMarginRight;var boxSizingReliableVal;var pixelPositionVal;var clearCloneStyle;var docElem=document.documentElement;var container=document.createElement("div");var div=document.createElement("div");div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";exports.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";container.appendChild(div);exports.pixelPosition=function(){if(undefined==pixelPositionVal)computePixelPositionAndBoxSizingReliable();return pixelPositionVal};exports.boxSizingReliable=function(){if(undefined==boxSizingReliableVal)computePixelPositionAndBoxSizingReliable();return boxSizingReliableVal};exports.reliableMarginRight=function(){var ret;var marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.innerHTML="";return ret};function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;"+"position:absolute;top:1%";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}});require.register("treygriffith~css@0.0.6/lib/computed.js",function(exports,module){var debug=require("visionmedia~debug@0.8.1")("css:computed");var withinDocument=require("component~within-document@0.0.1");var styles=require("treygriffith~css@0.0.6/lib/styles.js");var camelcase=require("ianstormtaylor~to-camel-case@0.2.1");var hooks=require("treygriffith~css@0.0.6/lib/hooks.js");module.exports=computed;function computed(el,prop,precomputed){var computed=precomputed||styles(el);var ret;if(!computed)return;if(computed.getPropertyValue){ret=computed.getPropertyValue(prop)||computed[prop]}else{ret=computed[prop]}if(""===ret&&!withinDocument(el)){debug("element not within document, try finding from style attribute");ret=get(el,prop)}debug("computed value of %s: %s",prop,ret);return undefined===ret?ret:ret+""}function get(el,prop,extra){var style=el.style;var hook=hooks[prop]||hooks[orig];var orig=camelcase(prop);var ret;if(hook&&hook.get&&undefined!==(ret=hook.get(el,false,extra))){debug("get hook defined, returning: %s",ret);return ret}ret=style[prop];debug("getting %s",ret);return ret}});require.register("component~clone@0.2.2",function(exports,module){var type;try{type=require("component~type@1.0.0")}catch(_){type=require("component~type@1.0.0")}module.exports=clone;function clone(obj){switch(type(obj)){case"object":var copy={};for(var key in obj){if(obj.hasOwnProperty(key)){copy[key]=clone(obj[key])}}return copy;case"array":var copy=new Array(obj.length);for(var i=0,l=obj.length;i<l;i++){copy[i]=clone(obj[i])}return copy;case"regexp":var flags="";flags+=obj.multiline?"m":"";flags+=obj.global?"g":"";flags+=obj.ignoreCase?"i":"";return new RegExp(obj.source,flags);case"date":return new Date(obj.getTime());default:return obj}}});require.register("component~query@0.0.3",function(exports,module){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){el=el||document;return one(selector,el)};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector)};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all;return exports}});require.register("component~matches-selector@0.1.2",function(exports,module){var query=require("component~query@0.0.3");var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true}return false}});require.register("treygriffith~closest@0.1.2",function(exports,module){var matches=require("component~matches-selector@0.1.2");module.exports=function(element,selector,checkYoSelf,root){element=checkYoSelf?{parentNode:element}:element;root=root||document;while((element=element.parentNode)&&element!==document){if(element.nodeType===11)continue;if(matches(element,selector))return element;if(element===root)return}}});require.register("matthewp~attr@master",function(exports,module){function fetch(el,attr){var attrs=el.attributes;for(var i=0;i<attrs.length;i++){if(attr[i]!==undefined){if(attr[i].nodeName===attr){return attr[i]}}}return null}function Attr(el){this.el=el}Attr.prototype.get=function(attr){return this.el.getAttribute&&this.el.getAttribute(attr)||(fetch(this.el,attr)===null?null:fetch(this.el,attr).value)};Attr.prototype.set=function(attr,val){if(this.el.setAttribute){this.el.setAttribute(attr,val)}else{fetch(this.el,attr).value=val}return this};Attr.prototype.has=function(attr){return this.el.hasAttribute&&this.el.hasAttribute(attr)||fetch(this.el,attr)!==null};module.exports=function(el){return new Attr(el)};module.exports.Attr=Attr});require.register("ramitos~children@master",function(exports,module){var matches=require("component~matches-selector@0.1.2");module.exports=function(el,selector){var n=el.firstChild;var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&(!selector||selector&&matches(n,selector)))matched.push(n)}return matched}});require.register("component~domify@1.2.2",function(exports,module){module.exports=parse;var map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};map.td=map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];map.option=map.optgroup=[1,'<select multiple="multiple">',"</select>"];map.thead=map.tbody=map.colgroup=map.caption=map.tfoot=[1,"<table>","</table>"];map.text=map.circle=map.ellipse=map.line=map.path=map.polygon=map.polyline=map.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function parse(html){if("string"!=typeof html)throw new TypeError("String expected");var m=/<([\w:]+)/.exec(html);if(!m)return document.createTextNode(html);html=html.replace(/^\s+|\s+$/g,"");var tag=m[1];if(tag=="body"){var el=document.createElement("html");el.innerHTML=html;return el.removeChild(el.lastChild)}var wrap=map[tag]||map._default;var depth=wrap[0];var prefix=wrap[1];var suffix=wrap[2];var el=document.createElement("div");el.innerHTML=prefix+html+suffix;while(depth--)el=el.lastChild;if(el.firstChild==el.lastChild){return el.removeChild(el.firstChild)}var fragment=document.createDocumentFragment();while(el.firstChild){fragment.appendChild(el.removeChild(el.firstChild))}return fragment}});require.register("component~emitter@1.1.2",function(exports,module){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}});require.register("component~event@0.1.3",function(exports,module){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix=bind!=="addEventListener"?"on":"";exports.bind=function(el,type,fn,capture){el[bind](prefix+type,fn,capture||false);return fn};exports.unbind=function(el,type,fn,capture){el[unbind](prefix+type,fn,capture||false);return fn}});require.register("treygriffith~events@0.1.0",function(exports,module){var event=require("component~event@0.1.3");module.exports=Events;function Events(){this._nodes=[];this._events=[]}Events.prototype.bind=function(el,evt,fn){var events=this._initNode(el);events[evt]=events[evt]||[];events[evt].push(fn);event.bind(el,evt,fn);return fn};Events.prototype.unbind=function(el,evt,fn){var unbound=[],events,i;if(!~this._nodes.indexOf(el))return unbound;events=this._events[this._nodes.indexOf(el)];if(!evt){for(evt in events){unbound=unbound.concat(this.unbind(el,evt,fn))}return unbound}if(!events[evt]||!events[evt].length)return unbound;i=events[evt].length;while(i--){if(!fn||fn===events[evt][i]){event.unbind(el,evt,events[evt][i]);unbound.push(events[evt][i]);events[evt].splice(i,1)}}return unbound};Events.prototype._initNode=function(el){var index=this._nodes.indexOf(el);if(!~index)index=this._nodes.push(el)-1;this._events[index]=this._events[index]||{};return this._events[index]}});require.register("timoxley~to-array@0.2.1",function(exports,module){module.exports=function toArray(collection){if(typeof collection==="undefined")return[];if(collection===null)return[null];if(collection===window)return[window];if(typeof collection==="string")return[collection];if(isArray(collection))return collection;if(typeof collection.length!="number")return[collection];if(typeof collection==="function"&&collection instanceof Function)return[collection];var arr=[];for(var i=0;i<collection.length;i++){if(Object.prototype.hasOwnProperty.call(collection,i)||i in collection){arr.push(collection[i])}}if(!arr.length)return[];return arr};function isArray(arr){return Object.prototype.toString.call(arr)==="[object Array]"}});require.register("forbeslindesay~to-element-array@1.0.0",function(exports,module){var toArray=require("timoxley~to-array@0.2.1");module.exports=toElementArray;function toElementArray(elements){if(typeof elements==="string"){return toArray(document.querySelectorAll(elements))}else{return toArray(elements)}}});require.register("treygriffith~find-with-self@0.1.0",function(exports,module){var matches=require("component~matches-selector@0.1.2"),query=require("component~query@0.0.3"),toArray=require("forbeslindesay~to-element-array@1.0.0");module.exports=findWithSelf;function findWithSelf(el,selector){var selected=toArray(query.all(selector,el));if(matches(el,selector))selected.push(el);return selected}});require.register("treygriffith~oz@0.1.0-alpha.1",function(exports,module){module.exports=require("treygriffith~oz@0.1.0-alpha.1/lib/oz.js")});require.register("treygriffith~oz@0.1.0-alpha.1/lib/oz.js",function(exports,module){var attr=require("matthewp~attr@master"),children=require("ramitos~children@master"),clone=require("component~clone@0.2.2"),closest=require("treygriffith~closest@0.1.2"),domify=require("component~domify@1.2.2"),Emitter=require("component~emitter@1.1.2"),Events=require("treygriffith~events@0.1.0"),findWithSelf=require("treygriffith~find-with-self@0.1.0"),utils=require("treygriffith~oz@0.1.0-alpha.1/lib/utils.js");module.exports=Oz;function Oz(template){if(!(this instanceof Oz))return new Oz(template);this.thisSymbol="@";this.equals=":";this.separator=";";this.template=typeof template==="string"?domify(template):template;this.tags=clone(Oz.tags);this.events=new Events;this.cache=[]}Emitter(Oz.prototype);Oz.prototype.render=function(ctx){var self=this,template=this.template.cloneNode(true),fragment;if(isFragment(template)){fragment=template}else{fragment=document.createDocumentFragment();fragment.appendChild(template)}this.rendered=children(fragment);this.update(ctx);return fragment};Oz.prototype.update=function(ctx){var self=this;this.ctx=ctx||{};this.cache=[];this.rendered.forEach(function(el){unbindAll(self.events,el);self._render(el,ctx)});return this.rendered};Oz.prototype.change=function(scope,val){this.emit("change:"+scope,val);this.emit("change",scope,val)};Oz.prototype._render=function(template,ctx,scope,ignoreCache){var self=this,tags=this.tags,thisSymbol=this.thisSymbol,tagKeys=Object.keys(tags),tmp;scope=scope||"";if(~this.cache.indexOf(template)&&!ignoreCache){return this.cache[this.cache.indexOf(template)]}tagKeys.forEach(function(key){var selector="["+key+"]"+(tags[key].not?":not("+tags[key].not+")":"");findWithSelf(template,selector).filter(filterRoot(tags,template)).forEach(function(el){var prop=attr(el).get(key),next=function(_el,_ctx,_scope){switch(arguments.length){case 0:_el=el;case 1:_ctx=ctx;case 2:_scope=scope}children(_el).forEach(function(child){self._render(child,_ctx,_scope,_scope!==scope&&_ctx!==ctx)})};tags[key].render.call(self,el,ctx,prop,scope,next)})});this.cache.push(template);return template};Oz.render=function(template,ctx){return new Oz(template).render(ctx)};Oz.tags={};Oz.prototype.tag=Oz.tag=function(name,render,not){if(arguments.length>1){this.tags[name]={render:render,not:not}}return this.tags[name]};Oz.prototype.use=Oz.use=function(plugin){plugin(this);return this};for(var p in utils)Oz.prototype[p]=utils[p];function unbindAll(events,el){findWithSelf(el,"*").forEach(function(el){events.unbind(el)})}function isFragment(el){return el.nodeType===11}function filterRoot(tags,root){var tagKeys=Object.keys(tags);return function(el){for(var i=0;i<tagKeys.length;i++){var closestEl=closest(el,"["+tagKeys[i]+"]",true,root);if(closestEl!=null&&closestEl!==el)return false}return true}}});require.register("treygriffith~oz@0.1.0-alpha.1/lib/utils.js",function(exports,module){var css=require("treygriffith~css@0.0.6");exports.get=function get(ctx,prop){var val=ctx,thisSymbol=this.thisSymbol;prop.split(".").forEach(function(part){if(part!==thisSymbol){if(!val)return val=null;if(typeof val[part]==="function"){val=val[part]()}else{val=val[part]}}});return val};exports.scope=function(scope,prop){var scopes=[],thisSymbol=this.thisSymbol;((scope||thisSymbol)+"."+prop).split(".").forEach(function(part){if(part!==thisSymbol)scopes.push(part)});return scopes.join(".")};exports.split=function(prop,fn){var sep=this.separator,eq=this.equals;prop.split(sep).forEach(function(prop){if(!prop)return;var parts=prop.split(eq).map(function(str){return str.trim()});fn(parts[0],parts[1])})};exports.hide=function(el){css(el,"display","none")};exports.show=function(el){css(el,"display","")}});require.register("treygriffith~oz-attr@0.0.1",function(exports,module){var attr=require("matthewp~attr@master");module.exports=function(Oz){Oz.tag("oz-attr",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var self=this;this.split(prop,function(name,val){val=val!=null?self.get(ctx,val):null;if(attr(el).get(name)!==val)attr(el).set(name,val)});next()}});require.register("treygriffith~siblings@0.0.4",function(exports,module){var children=require("ramitos~children@master");module.exports=function(el,selector){return children(el.parentNode,selector).filter(function(sibling){return sibling!==el})}});require.register("treygriffith~oz-each@0.0.1",function(exports,module){var attr=require("matthewp~attr@master"),siblings=require("treygriffith~siblings@0.0.4");module.exports=function(Oz){Oz.tag("oz-each",render,"[oz-each-index]")};module.exports.render=render;function render(el,ctx,prop,scope,next){var newEl,existing={},after,val=this.get(ctx,prop);if(!val)return this.hide(el);this.show(el);siblings(el,"[oz-each-index]").forEach(function(el,i){if(i>=val.length)return el.parentNode.removeChild(el);existing[i]=el});for(var i=0;i<val.length;i++){after=existing[i+1]||el;newEl=existing[i]||el.cloneNode(true);attr(newEl).set("oz-each-index",i);after.parentNode.insertBefore(newEl,after);next(newEl,val[i],this.scope(scope,prop+"."+i))}this.hide(el)}});require.register("treygriffith~oz-evt@0.0.1",function(exports,module){module.exports=function(Oz){Oz.tag("oz-evt",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var self=this;this.split(prop,function(name,val){self.events.bind(el,name,function(e){self.emit(val,el,e,ctx)})});next()}});require.register("treygriffith~oz-if@0.0.1",function(exports,module){module.exports=function(Oz){Oz.tag("oz-if",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var val=this.get(ctx,prop);if(!val||Array.isArray(val)&&val.length===0){this.hide(el)}else{this.show(el)}next()}});require.register("treygriffith~oz-scope@0.0.1",function(exports,module){module.exports=function(Oz){Oz.tag("oz-scope",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var self=this,val=this.get(ctx,prop);if(!val){this.hide(el)}else{this.show(el)}next(el,val,this.scope(scope,prop))}});require.register("matthewp~text@0.0.2",function(exports,module){var text="innerText"in document.createElement("div")?"innerText":"textContent";module.exports=function(el,val){if(val==null)return el[text];el[text]=val}});require.register("treygriffith~oz-text@0.0.1",function(exports,module){var text=require("matthewp~text@0.0.2");module.exports=function(Oz){Oz.tag("oz-text",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var val=this.get(ctx,prop)||"";if(val!==undefined)text(el,String(val));next()}});require.register("component~value@1.1.0",function(exports,module){var typeOf=require("component~type@1.0.0");
module.exports=function(el,val){if(2==arguments.length)return set(el,val);return get(el)};function get(el){switch(type(el)){case"checkbox":case"radio":if(el.checked){var attr=el.getAttribute("value");return null==attr?true:attr}else{return false}case"radiogroup":for(var i=0,radio;radio=el[i];i++){if(radio.checked)return radio.value}break;case"select":for(var i=0,option;option=el.options[i];i++){if(option.selected)return option.value}break;default:return el.value}}function set(el,val){switch(type(el)){case"checkbox":case"radio":if(val){el.checked=true}else{el.checked=false}break;case"radiogroup":for(var i=0,radio;radio=el[i];i++){radio.checked=radio.value===val}break;case"select":for(var i=0,option;option=el.options[i];i++){option.selected=option.value===val}break;default:el.value=val}}function type(el){var group="array"==typeOf(el)||"object"==typeOf(el);if(group)el=el[0];var name=el.nodeName.toLowerCase();var type=el.getAttribute("type");if(group&&type&&"radio"==type.toLowerCase())return"radiogroup";if("input"==name&&type&&"checkbox"==type.toLowerCase())return"checkbox";if("input"==name&&type&&"radio"==type.toLowerCase())return"radio";if("select"==name)return"select";return name}});require.register("treygriffith~oz-val@0.0.1",function(exports,module){var value=require("component~value@1.1.0");module.exports=function(Oz){Oz.tag("oz-val",render)};module.exports.render=render;function render(el,ctx,prop,scope,next){var val=this.get(ctx,prop),self=this;if(val!==undefined)value(el,val);onChange(this.events,el,function(val){self.change(self.scope(scope,prop),val)});next()}function onChange(events,el,fn){var val=value(el);var changed=function(e){if(value(el)!==val)fn(value(el));val=value(el)};events.bind(el,"click",changed);events.bind(el,"change",changed);events.bind(el,"keyup",changed)}});require.register("oz-bundle",function(exports,module){var Oz=require("treygriffith~oz@0.1.0-alpha.1"),attrTag=require("treygriffith~oz-attr@0.0.1"),eachTag=require("treygriffith~oz-each@0.0.1"),evtTag=require("treygriffith~oz-evt@0.0.1"),ifTag=require("treygriffith~oz-if@0.0.1"),scopeTag=require("treygriffith~oz-scope@0.0.1"),textTag=require("treygriffith~oz-text@0.0.1"),valTag=require("treygriffith~oz-val@0.0.1");Oz.use(attrTag).use(eachTag).use(evtTag).use(ifTag).use(scopeTag).use(textTag).use(valTag);module.exports=Oz});if(typeof exports=="object"){module.exports=require("oz-bundle")}else if(typeof define=="function"&&define.amd){define([],function(){return require("oz-bundle")})}else{this["Oz"]=require("oz-bundle")}})();